<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script>
    let myMap = new Map();

    myMap.set("1", "java");
    myMap.set("2", "MySQL");
    myMap.set("3", "DB");
    myMap.set("4", "C");
    myMap.set("5", "Script");

    console.log(myMap);

    myMap.set("3", "바꿈");
    console.log(myMap);

    myMap.set("7", "바티스");
    console.log(myMap);

    myMap.delete("4");
    console.log(myMap);

    console.log(myMap.has("5"));

    for (let i of myMap) {
      console.log(`key : ${i[0]} , value : ${i[1]}`);
    }

    myMap.clear();
    console.log(myMap.size);

    myMap2 = new Map([
      ["a", 111],
      ["b", 222],
      ["c", 333],
    ]);
    console.log(myMap2.get("a") + myMap2.get("b") + myMap2.get("c"));
    console.log(myMap.get("s"));

    myMap2.delete("b");
    console.log(myMap2.has("b"));

    for (let m of myMap2) {
      console.log(`key: ${m[0]} | value : ${m[1]}`);
    }

    for (const [key, value] of myMap2) {
      console.log(`key: ${key} | value : ${value}`);
    }

    for (const v of myMap2.values()) {
      console.log(`v : ${v}`);
    }
    for (const e of myMap2.entries()) {
      console.log(`e : ${e}`);
    }

    myMap2.forEach((value, key, map) => {
      console.log(
        `key : ${key} | value : ${value} | map : ${map} | this : ${this}`
      );
    }, myMap2);
    myMap2.forEach(function (value, key) {
      console.log(`key : ${key} | value : ${value}  | this : ${this}`);
    }, myMap2);

    const mapArr = Array.from(myMap2);
    mapArr.forEach((m) => {
      console.log(m);
    });

    console.log(Array.isArray(mapArr));
    console.log(mapArr);

    // let testMap = new Map(mapArr);
    // console.log(testMap);

    // mapArr = Array.from(testMap);
    localStorage.setItem("test01", JSON.stringify(mapArr));

    const getArr = JSON.parse(localStorage.getItem("test01"));

    let getMap = new Map(getArr);

    getMap.forEach((value, key) => {
      console.log(`key : ${key} | value : ${value}`);
    });
  </script>
  <body>
    <pre>
    <h3>** 컬렉션(Collections) 장점 **</h3> 
    => Object, Array를 사용하는 것 보다 최적화된 구현체를 제공
    => ES6 : Map, Set, WeakMap, WeakSet
    
    ** Map **
    => 특징
      - Key - Value 의 쌍으로 이루어진 컬렉션
      - key 를 사용해서 value 를 get, set 할 수 있음
      - key 들은 중복될 수 없음 : 하나의 key 에는 하나의 value 만 허용
      - key 로 사용가능한 데이터 Type 
        : string, symbol(ES6), object, function 등
        : number 는 사용불가능
    => 객체와 비교
      - 객체는 속성 추가시 내장 속성과 이름 중복으로 충돌이 일어날 수 있음.
      - 객체는 이터러블 규약을 따르지 않으나 맵은 따름 ( for ~ of 가능 )     
      - 속성의 Key는 항상 문자열 이어야 함. (ES6 에서는 심볼도 가능함)
      - 객체의 속성의 수를 알수 없음.(size나 length 같은 메서드가 없음)
  </pre>
  </body>
</html>
